<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:PlayerAvalonia.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="550" d:DesignHeight="400"
        x:Class="PlayerAvalonia.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        MaxHeight="520"
        MaxWidth="725"
        Loaded="Window_Loaded"
        MinHeight="500"
        CanResize="False"
        MinWidth="700"
		Icon="/Assets/media.ico"
        Title="{Binding SelectedTitle}">
		

    <Design.DataContext>
        <vm:MainWindowViewModel/>
    </Design.DataContext>
	<Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="230"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid Grid.Column="0"
              HorizontalAlignment="Left"
              Background="#252525">
                <StackPanel Margin="4 10">
                    <Grid>
                        <StackPanel Orientation="Horizontal">
                            <Image Source="/Assets/Folder.png"
                                   Height="24"
                                   Margin="6 0"
                                   Width="24"
                                   Stretch="Uniform"
                                   Opacity="0.9"/>
                            <Label Content="Select Folder"
                                   VerticalContentAlignment="Center"
                                   FontSize="14"/>
                        </StackPanel>
                        <Button Height="40"
                                Width="230"
                                VerticalAlignment="Center"
                                Background="Transparent"
                                Command="{Binding LoadMusicCommand}"/>
                        
                    </Grid>
                    <Grid>
                        <StackPanel Orientation="Horizontal">
                            <Image Source="/Assets/Home.png"
                                   Height="24"
                                   Width="24"
                                   Margin="6 0"
                                   Stretch="Uniform" 
                                   Opacity="0.9"/>
                            <Label Content="Home"
                                   VerticalContentAlignment="Center"
                                   FontSize="14"/>
                        </StackPanel>
                        <Button Height="40"
                                Width="230"
                                VerticalAlignment="Center"
                                Background="Transparent"
                                Command="{Binding IndexCommand}"/>
                        
                    </Grid>
                    <Grid>
                        <StackPanel Orientation="Horizontal">
                            <Image Source="/Assets/Title.png"
                                   Height="24"
                                   Width="24"
                                   Margin="6 0"
                                   Opacity="0.9"
                                   Stretch="Uniform" />
                            <Label Content="Title"
                                   VerticalContentAlignment="Center"
                                   FontSize="14"/>
                        </StackPanel>
                        <Button Height="40"
                                Width="230"
                                VerticalAlignment="Center"
                                Background="Transparent"
                                Command="{Binding TitleCommand}"/>
                        
                    </Grid>
                    <Grid>
                        <StackPanel Orientation="Horizontal">
                            <Image Source="/Assets/Artist.png"
                                   Height="24"
                                   Width="24"
                                   Margin="6 0"
                                   Opacity="0.9"
                                   Stretch="Uniform" />
                            <Label Content="Artist"
                                   VerticalContentAlignment="Center"
                                   FontSize="14"/>
                        </StackPanel>
                        <Button Height="40"
                                Width="230"
                                VerticalAlignment="Center"
                                Background="Transparent"
                                Command="{Binding ArtistCommand}"/>
                        
                    </Grid>
                </StackPanel>
            <StackPanel VerticalAlignment="Bottom"
                        HorizontalAlignment="Center">
                <Rectangle Height="200"
                           Width="200"
                           Margin="5 0 5 0"
                           RadiusX="12" 
                           RadiusY="12">
                    <Rectangle.Fill>
                        <ImageBrush Source="{Binding SelectedAlbum}"
                                    Stretch="UniformToFill"/>
                    </Rectangle.Fill>
                </Rectangle>
                <Slider x:Name="PositionSlider"
                        Maximum="{Binding TrackDurationSeconds}"
                        Value="{Binding TrackPositionSeconds}"
                        IsVisible="True"    
                        PointerPressed="Slider_PointerPressed"
                        PointerReleased="Slider_PointerReleased"
                        VerticalAlignment="Center"
                        Background="#3a3a3a"
                        Margin="10 0 10 0"
                        ZIndex="1">
                    <Slider.Styles>
                        <Style Selector="Slider:horizontal">
                            <Style Selector="^ Track">
                                <Style Selector="^ Thumb">
                                    <Setter Property="Width" Value="12"/>
                                    <Setter Property="Height" Value="12"/>
                                    <Setter Property="Background" Value="#2d5fe8"/>
                                </Style>
                            </Style>
                        </Style>
                    </Slider.Styles>
                </Slider>
                
                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Margin="0 0 0 10"> 
                    <Grid Margin="10 0"
                          VerticalAlignment="Top"
                          Width="40"
                          HorizontalAlignment="Center">
                        <Label Content="{Binding CurrentTimePosition}"
                               HorizontalContentAlignment="Left"
                               HorizontalAlignment="Left"
                               FontSize="9" />
                    </Grid>
                    <Grid>
                        <Button Height="30" 
                                Width="30"
                                ZIndex="2"
                                CornerRadius="180"
                                Background="Transparent"
                                Command="{Binding PreviuosCommand}"/>
                        <Image Source="/Assets/Previous.png"
                               Height="30" 
                               Width="30"
                               Stretch="UniformToFill"
                               ZIndex="-1"/>
                    </Grid>
                    <Grid Margin="6 0"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Center">
                        <Button Height="40" 
                                Width="40"
                                CornerRadius="180"
                                ZIndex="2"
                                Background="Transparent"
                                Command="{Binding PlayPauseCommand}"/>
                        <Image Source="/Assets/Play.png" Stretch="Uniform"
                               Height="40" Width="40" ZIndex="-1" IsVisible="{Binding IsPlayIconEnabled}"/>
                        <Image Source="/Assets/Pause.png" Stretch="Uniform"
                               Height="40" Width="40" ZIndex="-1" IsVisible="{Binding IsPauseIconEnabled}"/>
                    </Grid>
                    <Grid >
                        <Button Height="30" 
                                Width="30"
                                CornerRadius="180"
                                Background="Transparent"                                
                                Command="{Binding NextCommand}"
                                ZIndex="2"/>
                        <Image Source="/Assets/Next.png"
                               Height="30" 
                               Width="30"
                               ZIndex="-1"
                               Stretch="UniformToFill"/>
    
                    </Grid>
                    <Grid Margin="10 0"
                          Width="40"
                          VerticalAlignment="Top"
                          HorizontalAlignment="Right">
                        <Label Content="{Binding DurationTimePosition}"
                               HorizontalContentAlignment="Right"
                               HorizontalAlignment="Right"
                               FontSize="9" />
                    </Grid>
                </StackPanel>
            </StackPanel>
        </Grid>
        <Grid Grid.Column="1"
              Grid.Row="0"
              Background="#1e1e1e">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="50"/>
                <ColumnDefinition Width="50"/>
                <ColumnDefinition Width="250"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="30"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Border Grid.Row="0" Grid.Column="0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center">
                <Label Content=""
                       Foreground="Gray"
                       FontSize="10"/>
            </Border>
            <Border Grid.Row="0" Grid.Column="1"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center">
                <Label Content="Album"
                       Foreground="Gray"
                       FontSize="10"/>
            </Border>
            <Border Grid.Row="0" Grid.Column="2"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Margin="10 0 2 0">
                <Label Content="Title"
                       Foreground="Gray"
                       FontSize="10"/>
            </Border>
            <Border Grid.Row="0" Grid.Column="3"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Margin="0 0 5 0">
                <Label Content="Artist"
                       Foreground="Gray"
                       FontSize="10"/>
            </Border>
            <ListBox ItemsSource="{Binding Songs}"
                     SelectedItem="{Binding SelectedSong, Mode=TwoWay}"
                     Grid.ColumnSpan="4"
                     Grid.Row="1"
                     ScrollViewer.VerticalScrollBarVisibility="Disabled"
                     Background="Transparent">
                <ListBox.Styles>
                    <Style Selector="ListBoxItem">
                        <Setter Property="CornerRadius" Value="8"/>
                        <Setter Property="Margin" Value="2"/>
                        <Setter Property="Height" Value="47"/>                        
                        <Setter Property="Padding" Value="12"/>
                        <Setter Property="VerticalContentAlignment" Value="Center"/>
                    </Style>
                    <Style Selector="ListBoxItem:selected">
                        <Setter Property="Background" Value="#2d5fe8"/>
                        <Setter Property="Foreground" Value="White"/>                
                    </Style>
                </ListBox.Styles>
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Grid VerticalAlignment="Center">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="65"/>
                                <ColumnDefinition Width="250"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid>
                                <Label Content="{Binding Index}"
                                       HorizontalAlignment="Left" />
                            </Grid>
                            <Grid Grid.Column="2">
                                <Label Content="{Binding Title}"
                                       HorizontalAlignment="Left"
                                       Margin="10 0 2 0" />
                            </Grid>
                            <Grid Grid.Column="3">
                                <Label Content="{Binding Artist}"
                                       HorizontalAlignment="Left" />
                            </Grid>
                            <Grid Grid.Column="1">
                                <Rectangle Height="35"
                                           Width="35"
                                           RadiusX="5"
                                           RadiusY="5"
                                           HorizontalAlignment="Right">
                                    <Rectangle.Fill>
                                        <ImageBrush Source="{Binding AlbumArt}"/>
                                    </Rectangle.Fill>
                                </Rectangle>
                            </Grid>
                        </Grid>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Grid>
    </Grid>
</Window>
